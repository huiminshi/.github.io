{"meta":{"title":"Aviva","subtitle":"","description":"","author":"Aviva","url":"http://yoursite.com","root":"/"},"pages":[{"title":"archives","date":"2020-03-25T09:25:12.000Z","updated":"2020-03-25T09:25:12.924Z","comments":true,"path":"archives/index.html","permalink":"http://yoursite.com/archives/index.html","excerpt":"","text":""},{"title":"æ–‡ç« åˆ†ç±»","date":"2020-03-25T09:23:06.000Z","updated":"2020-04-01T06:18:37.617Z","comments":true,"path":"categories/index.html","permalink":"http://yoursite.com/categories/index.html","excerpt":"","text":""},{"title":"about","date":"2020-03-25T09:25:28.000Z","updated":"2020-03-25T09:25:28.199Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":""},{"title":"æ–‡ç« åˆ†ç±»","date":"2020-03-25T09:25:21.000Z","updated":"2020-04-01T06:20:13.456Z","comments":true,"path":"tags/index.html","permalink":"http://yoursite.com/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"HEXOæ˜¾ç¤ºå›¾ç‰‡","slug":"HEXOæ˜¾ç¤ºå›¾ç‰‡","date":"2020-04-01T06:51:34.000Z","updated":"2020-04-01T06:53:14.929Z","comments":true,"path":"2020/04/01/HEXOæ˜¾ç¤ºå›¾ç‰‡/","link":"","permalink":"http://yoursite.com/2020/04/01/HEXO%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87/","excerpt":"","text":"","categories":[],"tags":[]},{"title":"JSğŸ“ å…¨å±€å¯¹è±¡ä¸å‡½æ•°å¯¹è±¡","slug":"JS-å…¨å±€å¯¹è±¡ä¸å‡½æ•°å¯¹è±¡","date":"2020-04-01T06:03:27.000Z","updated":"2020-04-01T06:48:26.387Z","comments":true,"path":"2020/04/01/JS-å…¨å±€å¯¹è±¡ä¸å‡½æ•°å¯¹è±¡/","link":"","permalink":"http://yoursite.com/2020/04/01/JS-%E5%85%A8%E5%B1%80%E5%AF%B9%E8%B1%A1%E4%B8%8E%E5%87%BD%E6%95%B0%E5%AF%B9%E8%B1%A1/","excerpt":"","text":"å…¨å±€å¯¹è±¡æµè§ˆå™¨ç¯å¢ƒä¸‹ä¸º windowï¼ŒNode.js ç¯å¢ƒä¸‹ä¸º globalã€‚ç›®å‰ JS ä¸­æ–°æ·»åŠ äº† globalThis ä½œä¸ºå…¨å±€å¯¹è±¡çš„æ ‡å‡†åç§°ï¼Œä½†æœ‰äº›æµè§ˆå™¨è¿˜ä¸èƒ½å…¼å®¹ã€‚ å¯ä»¥ä½¿ç”¨å…¨å±€å¯¹è±¡æ¥æµ‹è¯•å¯¹ç°ä»£è¯­è¨€åŠŸèƒ½çš„æ”¯æŒã€‚ å‡½æ•°å¯¹è±¡å‡½æ•°æœ¬è´¨æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œå¢/åˆ å±æ€§ï¼ŒæŒ‰å¼•ç”¨ä¼ é€’ç­‰æ“ä½œã€‚ name å±æ€§ å¦‚æœå‡½æ•°æœ¬èº«æ²¡æœ‰å‡½æ•°åï¼Œé‚£ä¹ˆä¼šé€šè¿‡ä¸Šä¸‹æ–‡å‘½åæ¨æµ‹ä¸€ä¸ªå‡½æ•°åï¼Œå¦‚æœå®åœ¨ä¸çŸ¥é“å…·ä½“çš„å‡½æ•°åï¼Œé‚£ä¹ˆä¼šè¿”å›ç©ºï¼› ğŸŒ° 1234let sayHi = function() &#123; alert(\"Hi\");&#125;;alert(sayHi.name); // sayHiï¼ˆæœ‰åå­—ï¼ï¼‰ length å±æ€§ å¯ä»¥è¿”å›å‡½æ•°çš„å‚æ•°é•¿åº¦ï¼Œä½†æ˜¯ rest å‚æ•°ä¸ä¼šè¢«è®¡ç®—åœ¨å†…ï¼›å¯ä»¥åˆ©ç”¨ length å±æ€§å®ç°å¤šæ€æ€§ï¼Œå³æ ¹æ®å‚æ•°çš„ç±»å‹æˆ–è€…å…·ä½“æƒ…å†µä¸‹å‚æ•°çš„ä¸ªæ•°æ¥åšä¸åŒçš„å¤„ç†ï¼› è‡ªå®šä¹‰å±æ€§ ğŸŒ° è‡ªå®šä¹‰ counter å±æ€§æ¥è®°å½•å‡½æ•°è°ƒç”¨æ¬¡æ•° 12345678910function sayHi() &#123; alert(\"Hi\"); sayHi.counter++;&#125;sayHi.counter = 0; // initial valuesayHi(); // HisayHi(); // Hialert( `Called $&#123;sayHi.counter&#125; times` ); // Called 2 times å‡½æ•°å±æ€§ä¸æ˜¯ä¸€ä¸ªå˜é‡ï¼Œä»¥ä¸Šä¾‹å­ä¸­ä¸ä¼šå†å‡½æ•°å†…å®šä¹‰ä¸€ä¸ªå±€éƒ¨å˜é‡ counterï¼Œæ‰€ä»¥å‡½æ•°å±æ€§ä¸å˜é‡æ˜¯ä¸¤ä¸ªä¸ç›¸å…³çš„ä¸œè¥¿ï¼Œå³å®ƒä¸ä¼šå¯¹å‡½æ•°çš„æ‰§è¡Œäº§ç”Ÿå½±å“ã€‚ å‡½æ•°å±æ€§å¯ä»¥è¢«ç”¨æ¥æ›¿ä»£é—­åŒ…ï¼Œå› ä¸ºé€šè¿‡é—­åŒ…çš„æ–¹å¼ä»æŸä¸ªå‡½æ•°å†…éƒ¨ä¼ é€’å‡ºæ¥çš„å˜é‡æ— æ³•è¢«è¿™ä¸ªå‡½æ•°å¤–éƒ¨çš„ç¯å¢ƒæ‰€ä¿®æ”¹ï¼Œåˆ©ç”¨å‡½æ•°å±æ€§çš„è¯å¯ä»¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚ï¼ˆè§é—­åŒ…ç¬”è®°ï¼‰ åœ¨å¾ˆå¤š JS åº“ä¸­éƒ½å……åˆ†åˆ©ç”¨äº†è‡ªå®šä¹‰å±æ€§ï¼Œä¾‹å¦‚ï¼šjQuery åº“åˆ›å»ºäº†ä¸€ä¸ªåä¸º $ çš„å‡½æ•°å’Œ lodash åº“ä¸­çš„ _ å‡½æ•°ï¼Œç„¶åä¸ºå®ƒä»¬æ·»åŠ å±æ€§ï¼Œä¾‹å¦‚ _.addã€_.keyBy ç­‰ï¼Œè¿™æ ·ä¸€ä¸ªåº“å°±åªä¼šæœ‰ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œå¯ä»¥å‡å°‘å¯¹å…¨å±€ç©ºé—´çš„æ±¡æŸ“ï¼Œé™ä½äº†å‘½åå†²çªçš„å¯èƒ½æ€§ã€‚ å‘½åå‡½æ•°è¡¨è¾¾å¼ NFE è¯­æ³•ï¼š 1let sayHi = function func() &#123;...&#125; NFE ä¾æ—§æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼Œä¸ºå®ƒæ·»åŠ  func ä¸èƒ½ä½¿å®ƒå˜ä¸ºå‡½æ•°å£°æ˜ï¼Œå®ƒä»ç„¶æ˜¯ä½œä¸ºèµ‹å€¼è¡¨è¾¾å¼ä¸­çš„ä¸€éƒ¨åˆ†è¢«åˆ›å»ºçš„ã€‚ NFE ç‰¹ç‚¹ï¼š å®ƒå…è®¸å‡½æ•°åœ¨å†…éƒ¨å¼•ç”¨è‡ªå·±ã€‚ å®ƒåœ¨å‡½æ•°å¤–ä¸å¯è§ã€‚ ğŸŒ° ä½¿ç”¨åœºæ™¯ 12345678910111213let sayHi = function func(who) &#123; if (who) &#123; alert(`Hello, $&#123;who&#125;`); &#125; else &#123; //sayHi(\"Guest\");//è¿™æ ·æ˜¯æ— æ³•ä½¿ç”¨ï¼Œå› ä¸ºå¤–éƒ¨å°† sayHi è®¾ä¸ºäº† null func(\"Guest\");//è¿™æ ·å¯æ­£å¸¸æ“ä½œ &#125;&#125;;let welcome = sayHi;sayHi = null; // å¤–éƒ¨ä¿®æ”¹äº† sayHiwelcome(); // Hello, Guestï¼ˆåµŒå¥—è°ƒç”¨æœ‰æ•ˆï¼‰ NFE ç›¸å¯¹äºæ™®é€šçš„å‡½æ•°è¡¨è¾¾å¼æ¥è¯´ï¼Œç»™å‡½æ•°æ·»åŠ äº†ä¸€ä¸ªå¯é€‰çš„åå­—ï¼ˆå¦‚ï¼šfunc ï¼‰ï¼Œè¿™ä¸ªåå­—æ˜¯å¯¹å¤–ä¸å¯è§çš„ï¼Œå³å¤–éƒ¨æ— æ³•ä¿®æ”¹å®ƒã€‚ åœ¨ä¸ä½¿ç”¨ NFE çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæƒ³è¦åœ¨å‡½æ•°å†…éƒ¨å¼•ç”¨è‡ªå·±ï¼Œåˆ™éœ€è¦è°ƒç”¨å¤–éƒ¨çš„å‡½æ•°å˜é‡åï¼ˆ sayHi ï¼‰ï¼Œä½†è¿™ä¸ªå¤–éƒ¨çš„å‡½æ•°åæ˜¯å¯ä»¥è¢«å¤–éƒ¨ä¿®æ”¹çš„ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šé€ æˆå®ƒè¢«ä¿®æ”¹åæ— æ³•æ­£å¸¸è°ƒç”¨çš„æƒ…å†µï¼›NFE å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒæ‰€æ·»åŠ çš„å‡½æ•°åå¯¹å¤–ä¸å¯è§ï¼Œåªå¤„åœ¨è¿™ä¸ªå‡½æ•°å†…éƒ¨çš„ï¼Œæ‰€ä»¥å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ å‡½æ•°å£°æ˜æ²¡æœ‰å†…éƒ¨åè¿™æ ·çš„ç‰¹æ€§ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JSğŸ“ ç»§æ‰¿","slug":"JS-ç»§æ‰¿","date":"2020-03-28T06:44:54.000Z","updated":"2020-04-01T06:48:18.639Z","comments":true,"path":"2020/03/28/JS-ç»§æ‰¿/","link":"","permalink":"http://yoursite.com/2020/03/28/JS-%E7%BB%A7%E6%89%BF/","excerpt":"","text":"åŸå‹é“¾ç»§æ‰¿ æ–¹æ³•ï¼šæœ¬è´¨æ˜¯é‡å†™å­ç±»çš„åŸå‹å¯¹è±¡ï¼Œè¿™ä¸ªåŸå‹å¯¹è±¡æ˜¯é€šè¿‡åˆ›å»ºçˆ¶ç±»çš„å®ä¾‹ï¼Œå¹¶èµ‹å€¼ç»™å­ç±»çš„åŸå‹å¯¹è±¡å®ç°çš„ã€‚ å³ï¼šChild.prototye = new Parent(); ç¼ºç‚¹ï¼š1. å¼•ç”¨ç±»å‹çš„å±æ€§ä¼šè¢«æ‰€æœ‰å®ä¾‹æ‰€å…±äº«ï¼›2. åœ¨åˆ›å»ºChildå®ä¾‹æ—¶ä¸èƒ½å‘ Parent ä¼ å‚ æ³¨æ„ï¼šåŸå‹é“¾ç»§æ‰¿æ—¶ä¸èƒ½ä½¿ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºåŸå‹æ–¹æ³•ï¼Œè¿™æ ·ä¼šé‡å†™åŸå‹é“¾ï¼Œå¯¼è‡´ç»§æ‰¿çš„ä»£ç æ— æ•ˆã€‚ å®ç° 1234567891011121314151617181920212223 function Parent() &#123; this.name = 'shm'; this.hobbies = ['swimming','singing']; &#125;Parent.prototype.getName = function() &#123; console.log(this.name);&#125;function Child()&#123;&#125;Child.prototype = new Parent();//å®ç°ç»§æ‰¿//æ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨å¯¹è±¡å­—é¢é‡æ·»åŠ åŸå‹æ–¹æ³•ï¼ˆå¦‚ä¸‹ï¼‰ï¼Œä¸Šé¢ç»§æ‰¿çš„è¯­å¥ä¼šå¤±æ•ˆ//Child.prototype = &#123;// getHobbiesï¼š function()&#123;...&#125;//&#125;//æµ‹è¯•var child1 = new Child();child1.hobbies.push('aaa');child1.name = 'aviva';//child1æ–°æ·»åŠ äº†ä¸€ä¸ªnameå±æ€§console.log(child1.hobbies);//[ 'shopping', 'swimming', 'aaa' ]console.log(child1.name);//avivavar child2 = new Child();console.log(child2.hobbies);//[ 'shopping', 'swimming', 'aaa' ]console.log(child2.name);//shmï¼Œchild2ä¸­æœ¬èº«æ²¡æœ‰ï¼Œå»åŸå‹å¯¹è±¡ä¸­è·å¾—çš„å€¼ æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå€Ÿç”¨ call/apply å‡½æ•°/ä¼ªé€ å¯¹è±¡/ç»å…¸ç»§æ‰¿ï¼‰ æ–¹æ³•ï¼šåœ¨å­ç±»æ„é€ å‡½æ•°ä¸­é€šè¿‡ call/apply è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•° function SubType(){ SuperType.call(this);}//ç»§æ‰¿äº†SuperType ä¼˜ç‚¹ï¼š1. é¿å…äº†å¼•ç”¨ç±»å‹çš„å€¼è¢«æ‰€æœ‰å®ä¾‹å…±äº«ï¼›2. å¯ä»¥åœ¨å­ç±»ä¸­å‘çˆ¶ç±»ä¼ å‚ï¼ˆé€šè¿‡call/applyï¼‰ ç¼ºç‚¹ï¼š1. ä¸èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸­å®šä¹‰çš„æ–¹æ³•ï¼›2. æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šé‡æ–°åˆ›å»ºä¸€éï¼Œæµªè´¹å†…å­˜ã€‚ å®ç°: 1234567891011121314151617function Parent(name) &#123; this.name = name; this.hobbies = ['shopping','swimming'];&#125;function Child(name) &#123; Parent.call(this,name);//åœ¨å­ç±»æ„é€ å‡½æ•°é‡Œè°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œ // æ‰€ä»¥ç»§æ‰¿äº†çˆ¶ç±»çš„nameå±æ€§ï¼Œä½†æ˜¯ç”±äºæ›´æ”¹äº†thisï¼Œæ‰€ä»¥Parenté‡Œçš„thisæŒ‡å‘æ¯ä¸ªchildå®ä¾‹ //å› æ­¤æ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰è‡ªå·±çš„å±æ€§å‰¯æœ¬&#125;var child1 = new Child('shm');child1.hobbies.push('aaa');console.log(child1.hobbies);//[ 'shopping', 'swimming', 'aaa' ]console.log(child1.name);//shmvar child2 = new Child('aviva');console.log(child2.hobbies);//[ 'shopping', 'swimming' ]console.log(child2.name);//aviva ç»„åˆç»§æ‰¿ï¼ˆä¼ªç»å…¸ç»§æ‰¿ï¼šåŸå‹é“¾+æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰ æ–¹æ³•ï¼šé€šè¿‡åŸå‹é“¾ç»§æ‰¿çˆ¶ç±»åŸå‹å¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•ï¼Œé€šè¿‡æ„é€ å‡½æ•°ç»§æ‰¿çˆ¶ç±»æ„é€ å‡½æ•°å†…çš„å±æ€§ã€‚ 12345function Child(name,age) &#123; Parent.call(this,name);//æ„é€ å‡½æ•°ç»§æ‰¿ï¼Œè¿™é‡Œç»§æ‰¿äº†nameå±æ€§ this.age = age;&#125;Child.prototype = new Parent();//åŸå‹é“¾ç»§æ‰¿ï¼›ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼šè®¾ç½®ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™ ä¼˜ç‚¹ï¼šä½¿æ¯ä¸ªå­ç±»å®ä¾‹åˆ†åˆ«æ‹¥æœ‰è‡ªå·±çš„å±æ€§ï¼Œåˆå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚èåˆäº†åŸå‹é“¾ç»§æ‰¿å’Œæ„é€ å‡½æ•°çš„ä¼˜ç‚¹ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ç»§æ‰¿æ–¹æ³• ç¼ºç‚¹ï¼š1. è°ƒç”¨äº†ä¸¤æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼ˆä¸€æ¬¡ä½¿è®¾ç½®å­ç±»åŸå‹çš„æ—¶å€™ï¼Œå¦ä¸€æ¬¡ä½¿åˆ›å»ºå­ç±»å®ä¾‹çš„æ—¶å€™ï¼‰-&gt; ä¼šæœ‰ä¸¤ç»„çˆ¶ç±»æ„é€ å‡½æ•°çš„å±æ€§ï¼ˆä¸€ç»„åœ¨å­ç±»åŸå‹ä¸Šï¼Œä¸€ç»„åœ¨å­ç±»å®ä¾‹ä¸­ï¼‰ï¼›2. çˆ¶ç±»åŸå‹å’Œå­ç±»åŸå‹æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ— æ³•åŒºåˆ†å­ç±»å®ä¾‹çœŸæ­£ç”±è°æ„é€ ã€‚ å®ç° 1234567891011121314151617181920212223242526272829function Parent(name) &#123; this.name = name; this.hobbies = ['shopping','swimming'];&#125;Parent.prototype.getName = function () &#123;//é€šè¿‡åŸå‹é“¾å…±äº«çš„æ–¹æ³• console.log(this.name);&#125;;function Child(name,age) &#123; Parent.call(this,name);//æ„é€ å‡½æ•°ç»§æ‰¿ï¼Œè¿™é‡Œç»§æ‰¿äº†nameå±æ€§ this.age = age;&#125;Child.prototype = new Parent();//åŸå‹é“¾ç»§æ‰¿ï¼›ç¬¬ä¸€æ¬¡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼šè®¾ç½®ç±»å‹å®ä¾‹çš„åŸå‹çš„æ—¶å€™Child.prototype.constructor = Child;//æµ‹è¯•var child1 = new Child('shm','18');//ç¬¬äºŒæ¬¡è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°ï¼šåˆ›å»ºå­ç±»å®ä¾‹çš„æ—¶å€™child1.hobbies.push('singing');console.log(child1.name);//shmconsole.log(child1.age);//18console.log(child1.hobbies);//[ 'shopping', 'swimming', 'singing' ]child1.getName();var child2 = new Child('aviva','20');console.log(child2.name);//avivaconsole.log(child2.age);//20console.log(child2.hobbies);//[ 'shopping', 'swimming' ]child2.getName();//çˆ¶ç±»åŸå‹å’Œå­ç±»åŸå‹æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ— æ³•åŒºåˆ†å­ç±»å®ä¾‹çœŸæ­£ç”±è°æ„é€ ã€‚console.log(child1 instanceof Parent);//trueconsole.log(child1 instanceof Child);//true åŸå‹å¼ç»§æ‰¿ æ–¹æ³•ï¼šé€šè¿‡Object.create(o)å®ç°ï¼Œå°†ä¼ å…¥çš„oå¯¹è±¡ä½œä¸ºå…¶å®ƒå¯¹è±¡åˆ›å»ºçš„åŸºç¡€ï¼Œå³oä½œä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¯¹oè¿›è¡Œä¸€å±‚æµ…æ‹·è´ã€‚ä¸”å¿…é¡»æœ‰ä¸€ä¸ªå¯¹è±¡ä½œä¸ºåŸºç¡€ã€‚ 123456//Object.createçš„æ¨¡æ‹Ÿå®ç°function createObj(o)&#123; function F()&#123;&#125;; F.prototype = o; return new F();&#125; ç¼ºç‚¹ï¼šå’ŒåŸå‹ï¼ˆé“¾ï¼‰ç»§æ‰¿ä¸€æ ·ï¼ŒåŒ…å«å¼•ç”¨ç±»å‹çš„å±æ€§å§‹ç»ˆéƒ½ä¼šå…±äº«ç›¸åº”çš„å€¼ å®ç° 12345678910111213141516171819202122function createObj(o) &#123; function F() &#123;&#125; F.prototype = o; return new F();&#125;//personæ˜¯å…¶å®ƒå¯¹è±¡åˆ›å»ºçš„åŸºç¡€var person = &#123; name: 'shm', friends: ['daisy', 'kelly']&#125;;var person1 = createObj(person);//æˆ–è€…ç”¨Object.create(person)var person2 = createObj(person);console.log(person1);//&#123;&#125; è™½ç„¶æ‰“å°ä¸ºç©ºå¯¹è±¡ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åŸå‹é“¾æ‰¾åˆ°nameå’Œfriendså±æ€§person1.name = 'person1';console.log(person1.name);//person1console.log(person2.name);//shmconsole.log(person1);//&#123; name: 'person1' &#125;//è¿™é‡Œperson1å’Œ2çš„nameä¸åŒä¸æ˜¯å› ä¸ºä»–ä»¬å…·æœ‰ç‹¬ç«‹çš„nameï¼Œè€Œæ˜¯å› ä¸ºç»™person1æ·»åŠ äº†nameï¼Œå¹¶éä¿®æ”¹äº†åŸå‹çš„nameperson1.friends.push('taylor');console.log(person1.friends);//[ 'daisy', 'kelly', 'taylor' ]console.log(person2.friends);//[ 'daisy', 'kelly', 'taylor' ] å¯„ç”Ÿå¼ç»§æ‰¿ æ–¹æ³•ï¼šåˆ›å»ºä¸€ä¸ªä»…ç”¨äºå°è£…ç»§æ‰¿è¿‡ç¨‹çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨å†…éƒ¨ä»¥æŸç§å½¢å¼æ¥åšå¢å¼ºå¯¹è±¡ï¼ˆç»™å¯¹è±¡æ·»åŠ æ–°çš„å±æ€§/æ–¹æ³•ï¼‰ï¼Œæœ€åè¿”å›å¯¹è±¡ 12345678function createObj(o)&#123; let clone = Object.create(o); //åœ¨è¿™é‡Œåšå¢å¼ºå¯¹è±¡ clone.sayHi = function()&#123; console.log('Hi'); &#125; return clone;&#125; ç¼ºç‚¹ï¼šä¸å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ä¸€æ ·ï¼Œå‡½æ•°ä¸èƒ½å¤ç”¨ï¼›ä¸åŸå‹é“¾/åŸå‹å¼ç»§æ‰¿ä¸€æ ·ï¼Œå¼•ç”¨ç±»å‹çš„å±æ€§ä¼šè¢«å…±äº« å®ç° 12345678910111213141516171819function createObj(o) &#123; var clone = Object.create(o); clone.sayName = function () &#123; console.log('hi'); &#125;; return clone;&#125;var person = &#123; name: 'shm', friends: ['daisy', 'kelly']&#125;;var person1 = createObj(person);var person2 = createObj(person);person1.name = 'aviva';person1.friends.push('aaa');console.log(person1.name);//avivaconsole.log(person2.name);//shmconsole.log(person1.friends);//['daisy', 'kelly','aaa']console.log(person2.friends);//['daisy', 'kelly','aaa'] å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼ˆæœ€ä¼˜ï¼‰ æ–¹æ³•ï¼šåœ¨ç»„åˆç»§æ‰¿çš„åŸºç¡€ä¸Šï¼Œå­ç±»ç»§æ‰¿ä¸€ä¸ªç”±çˆ¶ç±»åŸå‹ç”Ÿæˆçš„ç©ºå¯¹è±¡ã€‚ç”¨ inheritPrototype æ–¹æ³•æ›¿ä»£ç»„åˆç»§æ‰¿ä¸­SubType.prototype = new SuperType() 12345function inheritPrototype(SubType,SuperType)&#123; let prototype = Object.create(SuperType.prototype);//åˆ›å»ºçˆ¶ç±»åŸå‹çš„ä¸€ä¸ªå‰¯æœ¬ prototype.constructor = SubType;//ä¸ºåˆ›å»ºçš„å‰¯æœ¬æ·»åŠ constructorå±æ€§ï¼Œå¼¥è¡¥å› é‡å†™åŸå‹è€Œå¤±å»çš„é»˜è®¤çš„constructorå±æ€§ SubType.prototype = prototype;//å°†æ–°åˆ›å»ºçš„å¯¹è±¡ï¼ˆå³å‰¯æœ¬ï¼‰èµ‹å€¼ç»™å­ç±»çš„åŸå‹&#125; ä¼˜ç‚¹ï¼š1. åªè°ƒç”¨äº†ä¸€æ¬¡çˆ¶ç±»æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”å› æ­¤é¿å…äº†åœ¨å­ç±»åŸå‹ä¸Šé¢åˆ›å»ºä¸å¿…è¦çš„å¤šä½™çš„å±æ€§ï¼›2. åŸå‹é“¾ä¿æŒä¸å˜ï¼Œå› æ­¤å¯ä»¥æ­£å¸¸ä½¿ç”¨ instanceof å’Œ isPrototypeOf å®ç° 12345678910111213141516171819202122function Parent(name) &#123; this.name = name; this.hobbies = ['shopping','swimming'];&#125;Parent.prototype.getName = function () &#123; console.log(this.name);&#125;;function Child(name,age) &#123; Parent.call(this,name);//å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ this.age = age;&#125;function inherits(child,parent) &#123; child.prototype = Object.create(parent.prototype,&#123; constructor: &#123; value: child &#125; &#125;)&#125;inherits(Child,Parent);var child1 = new Child('shm','18');console.log(child1);//å­ç±»å®ä¾‹ä¸Šåªæœ‰nameï¼Œhobbieså’Œageå±æ€§ï¼Œæ–¹æ³•åœ¨ParentåŸå‹ä¸Šï¼Œå­ç±»åŸå‹ä¸Šæ²¡æœ‰ Class ç»§æ‰¿12345678910111213141516class Parent &#123; constructor(value) &#123; this.val = value &#125; getValue() &#123; console.log(this.val) &#125;&#125;class Child extends Parent &#123; constructor(value) &#123; super(value) &#125;&#125;let child = new Child(1)child.getValue() // 1child instanceof Parent // true class å®ç°ç»§æ‰¿çš„æ ¸å¿ƒåœ¨äºä½¿ç”¨ extends è¡¨æ˜ç»§æ‰¿è‡ªå“ªä¸ªçˆ¶ç±»ï¼Œå¹¶ä¸”åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­å¿…é¡»è°ƒç”¨ superï¼Œå› ä¸ºè¿™æ®µä»£ç å¯ä»¥çœ‹æˆ Parent.call(this, value)ã€‚ class åˆ›å»ºçš„å‡½æ•°å¿…é¡»è¦ç”¨ new å…³é”®è¯å®ç°ï¼Œå®ƒå†…éƒ¨æœ‰ç‰¹æ®Šçš„å†…éƒ¨å±æ€§[[FunctionKind]]:&quot;classConstructor&quot;ï¼›ç±»æ–¹æ³•ä¸å¯æšä¸¾ï¼Œç±»å®šä¹‰å°† &quot;prototype&quot; ä¸­çš„æ‰€æœ‰æ–¹æ³•çš„ enumerable æ ‡å¿—è®¾ç½®ä¸º falseã€‚ï¼›ç±»æ€»æ˜¯ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼ã€‚ å¦‚æœè¦é‡å†™ constructorï¼Œé‚£ä¹ˆå¿…é¡»è¦å…ˆè°ƒç”¨ super æ¥å®Œæˆ this çš„èµ‹å€¼ï¼Œå› ä¸ºåœ¨class çš„æƒ…å†µä¸‹ this èµ‹å€¼è¦ç”±éæ´¾ç”Ÿç±»å®ç°ã€‚è¿™æ˜¯ç”±äºæ´¾ç”Ÿçš„æ„é€ å‡½æ•°å…·æœ‰ç‰¹æ®Šçš„å†…éƒ¨å±æ€§ [[ConstructorKind]]:&quot;derived&quot;ã€‚ ğŸ“–ï¼šé«˜ç¨‹ä¸‰ï¼Œå…¶ä»–ï¼ˆå¿˜äº†ï¼‰","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JSğŸ“ å¾ªç¯æ–¹æ³•å¯¹æ¯”","slug":"JS-å¾ªç¯æ–¹æ³•å¯¹æ¯”","date":"2020-03-28T06:44:54.000Z","updated":"2020-04-01T06:48:34.917Z","comments":true,"path":"2020/03/28/JS-å¾ªç¯æ–¹æ³•å¯¹æ¯”/","link":"","permalink":"http://yoursite.com/2020/03/28/JS-%E5%BE%AA%E7%8E%AF%E6%96%B9%E6%B3%95%E5%AF%B9%E6%AF%94/","excerpt":"","text":"å¾ªç¯æ–¹æ³•åŒ…æ‹¬ï¼šforï¼Œfor...in, for...ofï¼ŒforEachã€‚ for...in æ˜¯ç”¨äºéå†ä¸€ä¸ªå¯¹è±¡ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§æˆ–ç´¢å¼•ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å±æ€§ï¼Œå¯ä»¥è¢«ç”¨äºæ•°ç»„ï¼Œå­—ç¬¦ä¸²å’Œæ™®é€šå¯¹è±¡ï¼Œä¸å¯ç”¨äº Map å’Œ Set å¯¹è±¡ï¼ˆå› ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼‰ï¼Œæ•°ç»„ä¸æ¨èä½¿ç”¨è¿™ä¸ªï¼Œé€Ÿåº¦ä¼šä¸‹é™ 10-100 å€ï¼›å¦‚æœä¸æƒ³è®¿é—®ç»§æ‰¿çš„å±æ€§ï¼Œå¯æ”¹ç”¨ Object.hasOwnProperty()ã€‚ for...of è¢«ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡çš„å€¼è€Œä¸æ˜¯å±æ€§/ç´¢å¼•ï¼Œå®é™…ä¸Šæ˜¯åœ¨éå†å…·æœ‰ Symbol.iterator å±æ€§çš„æˆå‘˜ã€‚å¯ä»¥è¢«ç”¨äºæ•°ç»„ï¼Œå­—ç¬¦ä¸²ï¼ŒMap å’Œ Set å¯¹è±¡ï¼Œä¸å¯ç”¨äºæ™®é€šå¯¹è±¡ã€‚ forEach() åˆ™æ˜¯ Array åŸå‹ä¸­çš„æ–¹æ³•ï¼Œå…è®¸æˆ‘ä»¬è¿­ä»£æ•°ç»„çš„å…ƒç´ ï¼Œå¯åŒæ—¶è·å¾— value å’Œ indexï¼Œåªå¯ç”¨äºæ•°ç»„ã€‚forEach é€‚ç”¨äºå¾ªç¯æ¬¡æ•°æœªçŸ¥ï¼Œæˆ–è€…è®¡ç®—å¾ªç¯æ¬¡æ•°æ¯”è¾ƒéº»çƒ¦æƒ…å†µï¼Œä¸å¯é€šè¿‡ continue/break æ¥æ§åˆ¶å¾ªç¯ã€‚forEach çš„è¿”å›å€¼æ€»æ˜¯ undefinedã€‚ä¸”ä¸ä¼šå¯¹æœªåˆå§‹åŒ–çš„å€¼è¿›è¡Œä»»ä½•æ“ä½œï¼ˆç¨€ç–æ•°ç»„æƒ…å†µï¼‰ã€‚ ğŸ“–ï¼šWhat is the difference between JavaScriptâ€™s forâ€¦in, forâ€¦of and forEach?","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JSğŸ“ è£…é¥°è€…æ¨¡å¼ä¸è½¬å‘","slug":"JS-è£…é¥°è€…æ¨¡å¼ä¸è½¬å‘","date":"2020-03-28T06:44:54.000Z","updated":"2020-04-01T06:48:42.459Z","comments":true,"path":"2020/03/28/JS-è£…é¥°è€…æ¨¡å¼ä¸è½¬å‘/","link":"","permalink":"http://yoursite.com/2020/03/28/JS-%E8%A3%85%E9%A5%B0%E8%80%85%E6%A8%A1%E5%BC%8F%E4%B8%8E%E8%BD%AC%E5%8F%91/","excerpt":"","text":"è£…é¥°è€…æ¨¡å¼ DecoratorsğŸŒ° ç¼“å­˜è£…é¥°è€… å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª CPU é‡è´Ÿè½½çš„å‡½æ•° slow(x)ï¼Œä½†å®ƒçš„ç»“æœæ˜¯ç¨³å®šçš„ã€‚æ¢å¥è¯è¯´ï¼Œå¯¹äºç›¸åŒçš„ xï¼Œå®ƒæ€»æ˜¯è¿”å›ç›¸åŒçš„ç»“æœã€‚ å¦‚æœç»å¸¸è°ƒç”¨è¯¥å‡½æ•°ï¼Œæˆ‘ä»¬å¯èƒ½å¸Œæœ›å°†ç»“æœç¼“å­˜ï¼ˆè®°ä½ï¼‰ä¸‹æ¥ï¼Œä»¥é¿å…åœ¨é‡æ–°è®¡ç®—ä¸ŠèŠ±è´¹é¢å¤–çš„æ—¶é—´ã€‚ 12345678910111213141516171819202122232425262728let worker = &#123; someMethod() &#123; return 1; &#125;, slow(x) &#123; // å¯æ€•çš„ CPU è¿‡è½½ä»»åŠ¡ return x * this.someMethod(); // (*) &#125;&#125;;function cachingDecorator(func) &#123; let cache = new Map(); return function(x) &#123; if (cache.has(x)) &#123; return cache.get(x); &#125; let result = func(x); // (**) cache.set(x, result); return result; &#125;;&#125;alert( worker.slow(1) ); // åŸå§‹æ–¹æ³•æœ‰æ•ˆworker.slow = cachingDecorator(worker.slow); // ç°åœ¨å¯¹å…¶è¿›è¡Œç¼“å­˜alert( worker.slow(2) ); // å‡ºé”™ è¿™é‡Œçš„ cachingDecorator æ˜¯ä¸€ä¸ªè£…é¥°è€…ï¼ˆdecoratorï¼‰ï¼šæ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°å¹¶æ”¹å˜å®ƒçš„è¡Œä¸ºã€‚å…¶æ€æƒ³æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºä»»ä½•å‡½æ•°è°ƒç”¨ cachingDecoratorï¼Œå®ƒå°†è¿”å›ç¼“å­˜åŒ…è£…å™¨ï¼Œå³å†…éƒ¨è¿”å›çš„å‡½æ•°æ˜¯ä¸€ä¸ªåŒ…è£…å™¨ï¼ˆwrapperï¼‰ã€‚ è¿™ä¸ªåŒ…è£…å™¨å¹¶ä¸æ”¹å˜ä¼ å…¥çš„ func çš„æ“ä½œï¼Œåªæ˜¯åœ¨å®ƒçš„è¡Œä¸ºä¹‹ä¸Šæ·»åŠ äº†ç¼“å­˜åŠŸèƒ½ã€‚ ä»¥ä¸Šæ–¹æ³•åœ¨è°ƒç”¨æ˜¯ä¼šæŠ¥é”™ï¼Œç®€åŒ–ä¸Šé¢çš„ç¨‹åºè¿›è¡Œåˆ†æï¼š 12345678910111213function cachingDecorator(func) &#123; //... return function(x) &#123; //... console.log(this);// (1) let result = func(x); // (2) //... return result; &#125;;&#125;worker.slow = cachingDecorator(worker.slow); alert( worker.slow(2) ); (1) : ä¸º workerï¼Œè¿™æ˜¯å› ä¸ºè¿™ä¸ª function èµ‹å€¼ç»™äº† worker.slowï¼Œåœ¨é€šè¿‡ worter.slow() è°ƒç”¨æ—¶ï¼Œthis æŒ‡å‘ workerï¼› (2)ï¼šç­‰äºlet result = worker.slow(x); ä½†æ˜¯ç”±äºè¿™é‡Œè¿›è¡Œäº†èµ‹å€¼æ“ä½œï¼Œå°†ä¸­é—´çš„å¼•ç”¨ç±»å‹ (worker,&#39;slow&#39;,false) æŠ›å¼ƒäº†ï¼Œæ‰€ä»¥ä¸¢å¤±äº†åŸæ¥çš„ this å€¼ï¼Œæ•…æ­¤æ—¶çš„ this æŒ‡å‘ window ä¿®æ­£ï¼šå°† let result = func(x); ä¿®æ”¹ä¸º let result = func.call(this,x)ï¼›å³å¯æ­£å¸¸å·¥ä½œã€‚ è£…é¥°è€…çš„é—®é¢˜ å¦‚æœè¢«è£…é¥°çš„å‡½æ•°ï¼ˆ slow ï¼‰å…·æœ‰ä»»ä½•å±æ€§ï¼Œè€Œè£…é¥°åçš„å‡½æ•°åˆ™å°†ä¸å†å…·æœ‰è¿™äº›å±æ€§ï¼Œå³ cachingDecorator(slow) åˆ™æ˜¯ä¸€ä¸ªæ²¡æœ‰è¿™äº›å±æ€§çš„åŒ…è£…å™¨ã€‚ è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ Proxy å¯¹è±¡æ¥åŒ…è£…å‡½æ•°ï¼Œé€šè¿‡ Proxy åŒ…è£…çš„è£…é¥°è€…å¯ä¿ç•™å¯¹å‡½æ•°å±æ€§çš„è®¿é—®æƒé™ã€‚ å‘¼å«è½¬ç§»å°†æ‰€æœ‰å‚æ•°è¿åŒä¸Šä¸‹æ–‡ä¸€èµ·ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°è¢«ç§°ä¸ºâ€œå‘¼å«è½¬ç§»ï¼ˆcall forwardingï¼‰ã€‚é€šå¸¸ä½¿ç”¨ apply æ¥å®Œæˆã€‚ 123let wrapper = function() &#123; return original.apply(this, arguments);&#125;; æ–¹æ³•å€Ÿç”¨å¯¹äºå‡½æ•°çš„ arguments æ¥è¯´ï¼Œå®ƒæ—¢æ˜¯å¯è¿­ä»£å¯¹è±¡åˆæ˜¯ç±»æ•°ç»„ï¼Œä½†æ˜¯ç”±äºä¸æ˜¯çœŸæ­£çš„æ•°ç»„ï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è°ƒç”¨æ•°ç»„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š arguments.join() ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨æ–¹æ³•å€Ÿç”¨æ¥è§£å†³ã€‚ [].join.call(arguments)ï¼Œå³ä»å¸¸è§„çš„æ•°ç»„ä¸­å€Ÿç”¨ join æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨ [].join.call åœ¨ arguments çš„ä¸Šä¸‹æ–‡ä¸­è¿è¡Œå®ƒã€‚ è§£é‡Šï¼šarr.join() æ–¹æ³•ä¼šåˆ©ç”¨ this å°† arr æ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œé€šè¿‡ this[0] ç„¶åæ‹¼æ¥é€—å·çš„æ–¹å¼ä¾æ¬¡å°†æ•´ä¸ªæ•°ç»„æ‹¼æ¥å®Œæˆã€‚æ‰€ä»¥æ”¹å˜ this = arguments å¯ä»¥å°† arguments æ‹¼æ¥èµ·æ¥ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JSğŸ“ é—­åŒ…","slug":"JS-é—­åŒ…","date":"2020-03-28T06:44:54.000Z","updated":"2020-04-01T06:47:19.055Z","comments":true,"path":"2020/03/28/JS-é—­åŒ…/","link":"","permalink":"http://yoursite.com/2020/03/28/JS-%E9%97%AD%E5%8C%85/","excerpt":"","text":"è¯æ³•ç¯å¢ƒ Lexical Environmentå˜é‡æ‰€æœ‰è¿è¡Œçš„ functionã€ä»£ç å— {...} å’Œæ•´ä¸ªè„šæœ¬å†…éƒ¨éƒ½æœ‰ä¸€ä¸ªéšè—çš„å…³è”å¯¹è±¡â€”â€”è¯æ³•ç¯å¢ƒã€‚ è¯æ³•ç¯å¢ƒå¯¹è±¡åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼š ç¯å¢ƒè®°å½•ï¼ˆEnvironment Recordï¼‰ â€”â€” ä¸€ä¸ªå­˜å‚¨æ‰€æœ‰å±€éƒ¨å˜é‡ä½œä¸ºå…¶å±æ€§ï¼ˆåŒ…æ‹¬ä¸€äº›å…¶ä»–ä¿¡æ¯ï¼Œä¾‹å¦‚ this çš„å€¼ï¼‰çš„å¯¹è±¡ã€‚ å¯¹ å¤–éƒ¨è¯æ³•ç¯å¢ƒ çš„å¼•ç”¨ï¼Œä¸å¤–éƒ¨ä»£ç ç›¸å…³è”ã€‚ A â€œvariableâ€ is just a property of the special internal object, Environment Record. â€œTo get or change a variableâ€ means â€œto get or change a property of that objectâ€. ä¸€ä¸ªâ€œå˜é‡â€å®é™…ä¸Šåªæ˜¯ç¯å¢ƒè®°å½•å™¨çš„ä¸€ä¸ªå±æ€§ã€‚è·å–æˆ–ä¿®æ”¹è¿™ä¸ªå˜é‡æ„å‘³ç€è·å–æˆ–ä¿®æ”¹è¿™ä¸ªå¯¹è±¡çš„å±æ€§ã€‚ è¯æ³•ç¯å¢ƒä»…ä»…æ˜¯ä¸€ä¸ªè§„èŒƒå¯¹è±¡ï¼Œä¸æ˜¯å®é™…å­˜åœ¨çš„æ— æ³•åœ¨ä»£ç ä¸­è·å–ä¸æ“ä½œï¼Œä¸»è¦ç”¨äºæè¿°äº‹ç‰©å¦‚ä½•è¿ä½œçš„å¯¹è±¡ã€‚ æ —å­ğŸŒ° å·¦ä¾§æ˜¯ä¸€ä¸ªå…¨å±€ä»£ç ï¼Œå³ä¾§æ˜¯ä¸€ä¸ªè¯æ³•ç¯å¢ƒå¯¹è±¡ï¼Œæ–¹æ ¼è¡¨ç¤ºç¯å¢ƒè®°å½•ï¼Œouter è¡¨ç¤ºå¤–éƒ¨å¼•ç”¨ã€‚ å½“è„šæœ¬å¼€å§‹è¿è¡Œï¼Œè¯æ³•ç¯å¢ƒé¢„å…ˆå¡«å……äº†æ‰€æœ‰å£°æ˜çš„å˜é‡ã€‚ æœ€åˆï¼Œå®ƒä»¬å¤„äºâ€œæœªåˆå§‹åŒ–ï¼ˆUninitializedï¼‰â€çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„å†…éƒ¨çŠ¶æ€ï¼Œè¿™æ„å‘³ç€å¼•æ“çŸ¥é“å˜é‡ï¼Œä½†æ˜¯ä¸å…è®¸åœ¨ let ä¹‹å‰ä½¿ç”¨å®ƒã€‚å‡ ä¹å°±åƒå˜é‡ä¸å­˜åœ¨ä¸€æ ·ã€‚ ç„¶å let phrase å®šä¹‰å‡ºç°äº†ã€‚è¿˜æœªè¢«èµ‹å€¼ï¼Œå€¼ä¸º undefinedã€‚ä»è¿™åˆ»èµ·ï¼Œå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå˜é‡ã€‚ phrase è¢«èµ‹äºˆäº†ä¸€ä¸ªå€¼ã€‚ phrase çš„å€¼è¢«ä¿®æ”¹ã€‚ å‡½æ•°å£°æ˜å‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå˜é‡ï¼Œä¸åŒçš„æ˜¯ï¼Œåªè¦è¯æ³•ç¯å¢ƒè¢«åˆ›å»ºï¼Œå‡½æ•°å£°æ˜ä¼šç«‹å³å˜ä¸ºå¯ç”¨çš„å‡½æ•°ï¼Œå³ç«‹å³è¢«åˆå§‹åŒ–ï¼Œæ‰€ä»¥å¯ä»¥åœ¨å‡½æ•°å®šä¹‰ä¹‹å‰å°±ä½¿ç”¨å®ƒã€‚ ğŸŒ° ä½†è¿™ä¸é€‚ç”¨äºå‡½æ•°è¡¨è¾¾å¼çš„å½¢å¼ï¼Œå³ let say = function(name)... è¿™ç§æ–¹å¼äºå˜é‡çš„æƒ…å†µä¸€è‡´ã€‚ å†…éƒ¨ä¸å¤–éƒ¨è¯æ³•ç¯å¢ƒå½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¯æ³•ç¯å¢ƒç”¨ä»¥å­˜å‚¨è¿™ä¸ªè°ƒç”¨çš„å±€éƒ¨å˜é‡å’Œå‚æ•°ã€‚ ğŸŒ° æ­¤æ—¶æœ‰ä¸¤ä¸ªè¯æ³•ç¯å¢ƒï¼šå†…éƒ¨ä¸€ä¸ªï¼ˆç”¨äºå‡½æ•°è°ƒç”¨ï¼‰å’Œå¤–éƒ¨ä¸€ä¸ªï¼ˆå…¨å±€ï¼‰ã€‚å†…éƒ¨è¯æ³•ç¯å¢ƒå¼•ç”¨äº† outerã€‚ å½“ä»£ç è¦è®¿é—®ä¸€ä¸ªå˜é‡æ—¶ â€”â€” é¦–å…ˆä¼šæœç´¢å†…éƒ¨è¯æ³•ç¯å¢ƒï¼Œç„¶åæœç´¢å¤–éƒ¨ç¯å¢ƒï¼Œç„¶åæœç´¢æ›´å¤–éƒ¨çš„ç¯å¢ƒï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°å…¨å±€è¯æ³•ç¯å¢ƒã€‚ å¦‚æœåœ¨ä»»ä½•åœ°æ–¹éƒ½æ‰¾ä¸åˆ°è¿™ä¸ªå˜é‡ï¼Œé‚£ä¹ˆåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ä¼šæŠ¥é”™ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸ºäº†å‘åå…¼å®¹ï¼Œåˆ™ä¼šåœ¨å…¨å±€ç¯å¢ƒåˆ›å»ºä¸€ä¸ªæœªèµ‹å€¼çš„å˜é‡ã€‚ è¿”å›å‡½æ•°ğŸŒ° æ­¤æ—¶æœ‰ä¸¤ä¸ªè¯æ³•ç¯å¢ƒï¼Œä¸€ä¸ªå…¨å±€è¯æ³•ç¯å¢ƒï¼Œä¸€ä¸ªæ˜¯ makeCounter() è¢«è°ƒç”¨æ—¶äº§ç”Ÿçš„ã€‚ æ‰€æœ‰çš„å‡½æ•°éƒ½æœ‰ä¸€ä¸ªå†…ç½®å±æ€§ [[Environment]]ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘åˆ›å»ºè¿™ä¸ªå‡½æ•°çš„è¯æ³•ç¯å¢ƒã€‚å³ Counter.[[Environment]] æŒ‡å‘ {count: 0} è¯æ³•ç¯å¢ƒã€‚ å½“è°ƒç”¨ counter() æ—¶ï¼Œä¼šä¸ºè¯¥è°ƒç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„è¯æ³•ç¯å¢ƒï¼Œå¹¶ä¸”æ ¹æ® counter.[[Environment]] è·å–åˆ°å®ƒçš„å¤–éƒ¨è¯æ³•ç¯å¢ƒå¼•ç”¨ã€‚ å¹¶ä¸”åœ¨å˜é‡æ‰€åœ¨çš„è¯æ³•ç¯å¢ƒä¸­ä¿®æ”¹å˜é‡çš„å€¼ã€‚ é—­åŒ… Closureé—­åŒ…æ˜¯æŒ‡å†…éƒ¨å‡½æ•°æ€»æ˜¯å¯ä»¥è®¿é—®å®ƒæ‰€åœ¨çš„å¤–éƒ¨å‡½æ•°ä¸­å£°æ˜çš„å˜é‡å’Œå‚æ•°ï¼Œå³ä½¿åœ¨å®ƒå¤–éƒ¨å‡½æ•°è¢«è¿”å›ä¹‹åã€‚åœ¨ JS ä¸­é™¤ new Function è¯­æ³•å¤–çš„æ‰€æœ‰å‡½æ•°éƒ½æ˜¯å¤©ç”Ÿé—­åŒ…ã€‚ è¿™æ˜¯å› ä¸º JavaScript ä¸­çš„å‡½æ•°ä¼šè‡ªåŠ¨é€šè¿‡éšè—çš„ [[Environment]] å±æ€§è®°ä½å®ƒä»¬è¢«åˆ›å»ºçš„ä½ç½®ï¼Œæ‰€ä»¥å®ƒä»¬éƒ½å¯ä»¥è®¿é—®å¤–éƒ¨å˜é‡ã€‚ åœ¨ JS ä¸­ç”¨ new Function åˆ›å»ºçš„å‡½æ•°çš„ [[Environment]] å±æ€§æŒ‡å‘çš„æ˜¯å…¨å±€è¯æ³•ç¯å¢ƒï¼Œè€Œä¸æ˜¯å‡½æ•°æ‰€åœ¨çš„å¤–éƒ¨è¯æ³•ç¯å¢ƒã€‚å› æ­¤ï¼Œä¸èƒ½åœ¨ new Function ä¸­ç›´æ¥ä½¿ç”¨å¤–éƒ¨å˜é‡ï¼Œéœ€è¦æ˜¾å¼åœ°å‚æ•°ä¼ å€¼ï¼Œè¿™æ ·å¯ä»¥é™ä½ä»£ç å‡ºé”™çš„å¯èƒ½ï¼Œé¿å…äº†ä½¿ç”¨å‹ç¼©ç¨‹åºè€Œäº§ç”Ÿå†²çªçš„é—®é¢˜ã€‚ ä¼˜ç‚¹ï¼š é—­åŒ…å¯ä»¥çªç ´ä½œç”¨åŸŸé“¾çš„é™åˆ¶ï¼Œå°†å‡½æ•°å†…éƒ¨çš„å˜é‡å’Œæ–¹æ³•ä¼ é€’åˆ°å¤–éƒ¨ï¼› é¿å…å…¨å±€å˜é‡çš„æ±¡æŸ“ï¼› ç¼ºç‚¹ï¼š å¸¸é©»åœ¨å†…å­˜ä¸­ï¼Œå¢åŠ äº†å†…å­˜çš„ä½¿ç”¨é‡ï¼› è™½ç„¶é—­åŒ…å¯ä»¥çªç ´ä½œç”¨åŸŸé“¾ä¼ åˆ°å¤–éƒ¨ï¼Œä½†æ˜¯è¿™æ ·ä¼ å‡ºæ¥çš„å˜é‡ä¸èƒ½è¢«ä¿®æ”¹ï¼Œè¿™ä¸€é—®é¢˜å¯ä»¥é€šè¿‡å‡½æ•°å±æ€§æ¥è§£å†³ï¼ˆå¦‚ä¸‹ï¼‰ã€‚ å¦‚æœå˜é‡ä½äºå¤–å±‚çš„å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡åªèƒ½è¢«è¿™ä¸ªå‡½æ•°å’Œè¿™ä¸ªå‡½æ•°å†…éƒ¨åµŒå¥—çš„å‡½æ•°ä¿®æ”¹ï¼Œå¤–éƒ¨çš„å‡½æ•°æ— æ³•ä¿®æ”¹å®ƒã€‚æ­¤æ—¶å¯ä»¥é€šè¿‡åˆ©ç”¨å‡½æ•°å±æ€§ï¼Œå³å°†å˜é‡ç»‘å®šåˆ°å‡½æ•°ä¸Šï¼Œé‚£ä¹ˆå¤–éƒ¨å°±ä¹Ÿå¯ä»¥ä¿®æ”¹äº†ã€‚ ğŸŒ° count åªå¯ä»¥è¢« makeCounter å’Œå†…éƒ¨çš„å‡½æ•°ä¿®æ”¹ 12345678910111213function makeCounter() &#123; let count = 0; return function() &#123; return count++; &#125;;&#125;let counter = makeCounter();alert( counter() ); // 0alert( counter() ); // 1alert( counter() ); // 2 ä½¿ç”¨å‡½æ•°å±æ€§æ¥ä»£æ›¿é—­åŒ…ã€‚ 12345678910function makeCounter() &#123; function counter() &#123; return counter.count++; &#125; counter.count = 0; return counter;&#125;let counter = makeCounter();counter.count = 10;alter( counter() );//10 åƒåœ¾å›æ”¶ Garbage collectioné€šå¸¸ï¼Œå‡½æ•°è°ƒç”¨å®Œæˆåï¼Œä¼šå°†è¯æ³•ç¯å¢ƒå’Œå…¶ä¸­çš„æ‰€æœ‰å˜é‡ä»å†…å­˜ä¸­åˆ é™¤ã€‚ä¸ JavaScript ä¸­çš„å…¶ä»–å¯¹è±¡ä¸€æ ·ï¼Œè¯æ³•ç¯å¢ƒä»…åœ¨å¯è¾¾æ—¶æ‰ä¼šè¢«ä¿ç•™åœ¨å†…å­˜ä¸­ã€‚ ä½†æ˜¯ï¼Œå¦‚æœæŸä¸ªå‡½æ•°åœ¨æ‰§è¡Œç»“æŸåï¼Œå®ƒçš„è¿™ä¸ªè¯æ³•ç¯å¢ƒä»ç„¶è¢«å¼•ç”¨ï¼Œå³ä¾æ—§å¯è¾¾ï¼Œé‚£ä¹ˆå®ƒä¾æ—§ä¼šå­˜åœ¨å†å˜é‡ä¸­ã€‚ ğŸŒ° 12345678910function f() &#123; let value = 123; return function() &#123; alert(value); &#125;&#125;let g = f(); // g.[[Environment]] å­˜å‚¨äº†å¯¹ç›¸åº” f() è°ƒç”¨çš„è¯æ³•ç¯å¢ƒçš„å¼•ç”¨g = null;// æ­¤æ—¶ f() çš„è¯æ³•ç¯å¢ƒä¸å†è¢«å¼•ç”¨ï¼Œå³å¯è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ ç†è®ºä¸Šå½“å‡½æ•°å¯è¾¾æ—¶ï¼Œå®ƒå¤–éƒ¨çš„æ‰€æœ‰å˜é‡ä¹Ÿéƒ½å°†å­˜åœ¨ã€‚ä½†å®é™…ä¸Šï¼ŒJS å¼•æ“è¿›è¡Œäº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼ŒJS å¼•æ“ä¼šåˆ†æå˜é‡çš„ä½¿ç”¨æƒ…å†µï¼Œå¦‚æœè¿™ä¸ªå˜é‡æ˜æ˜¾ä¸ä¼šè¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆä¹Ÿä¼šè¢«ç§»é™¤ã€‚å› æ­¤ï¼Œè¿™ç±»å˜é‡åœ¨ V8ï¼ˆChorm/Opreaï¼‰ ä¸­è°ƒè¯•æ—¶å°†ä¸å¯ç”¨ã€‚ ğŸ“–ï¼šVariable Scope","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]},{"title":"JSğŸ“ å˜é‡ä¸å¸¸é‡","slug":"JS-å˜é‡ä¸å¸¸é‡","date":"2020-03-27T11:38:17.000Z","updated":"2020-04-01T06:48:09.824Z","comments":true,"path":"2020/03/27/JS-å˜é‡ä¸å¸¸é‡/","link":"","permalink":"http://yoursite.com/2020/03/27/JS-%E5%8F%98%E9%87%8F%E4%B8%8E%E5%B8%B8%E9%87%8F/","excerpt":"","text":"var var åªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸï¼Œå› ä¸ºåœ¨æ—§ç‰ˆçš„ JS ä¸­å—æ—¶æ²¡æœ‰è¯æ³•ç¯å¢ƒçš„ï¼› varå£°æ˜ä¼šå‘ç”Ÿå˜é‡æå‡ï¼ˆhoistingï¼‰ï¼Œå³æå‡åˆ°è„šæœ¬/å‡½æ•°é¡¶éƒ¨ï¼Œä½†æ˜¯ var çš„èµ‹å€¼æ“ä½œä¸ä¼šè¢«æå‡ï¼Œä¾æ—§ä¿ç•™åœ¨åŸæ¥çš„ä½ç½®ï¼› var å£°æ˜çš„å…¨å±€å‡½æ•°å’Œå˜é‡ä¼šæˆä¸ºå…¨å±€å¯¹è±¡çš„å±æ€§ã€‚ let ä½œç”¨åŸŸæ˜¯å—çº§ä½œç”¨åŸŸï¼ˆä¹‹å‰åªæœ‰å‡½æ•°ä½œç”¨åŸŸå’Œå…¨å±€ä½œç”¨åŸŸï¼‰ ä¸å­˜åœ¨å˜é‡å£°æ˜æå‰ ï¼ˆåœ¨letä¹‹å‰ä½¿ç”¨ï¼Œä¼šæŠ¥é”™ is not definedï¼‰ ä¸å¯ä»¥é‡å¤å®šä¹‰ ï¼ˆvarå¯ä»¥ï¼Œä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯let ä¼šè¯´has already been declared) å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº åœ¨ä¸€ä¸ªå—çº§ä½œç”¨åŸŸä¸­ï¼Œå˜é‡å”¯ä¸€å­˜åœ¨ï¼Œä¸€æ—¦å£°æ˜äº†ä¸€ä¸ªï¼Œå°±å±äºè¿™ä¸ªå—çº§ä½œç”¨åŸŸï¼Œä¸å—å¤–éƒ¨çš„å½±å“ æœ¬è´¨å°±æ˜¯ï¼šåªè¦å·²è¿›å…¥å½“å‰ä½œç”¨åŸŸï¼Œæ‰€è¦ç”¨çš„å˜é‡å°±å·²ç»å­˜åœ¨äº†ï¼Œä½†æ˜¯ä¸å¯ä»¥è·å–ï¼Œåªè¦ç­‰åˆ°å£°æ˜å˜é‡é‚£è¡Œå¼€å§‹æ‰å¯ä»¥è·å–ä½¿ç”¨ æ„ä¹‰ï¼šæ ‡å‡†åŒ–ä»£ç ï¼Œå°†æ‰€æœ‰çš„å˜é‡å£°æ˜æ”¾åœ¨æœ€å‰é¢ 123456var a=1;if(1)&#123; console.log(a); let a=2;&#125;//cannot access 'a' before initialization const ä¸€èˆ¬ç”¨æ¥å£°æ˜å¸¸é‡ï¼Œä¸å…è®¸ä¿®æ”¹ åªè¯»å±æ€§ï¼Œå£°æ˜åŒæ—¶å°±è¦èµ‹å€¼ å’Œletä¸€æ ·ï¼Œéƒ½æ˜¯å—çº§ä½œç”¨åŸŸï¼Œå­˜åœ¨æš‚æ—¶æ€§æ­»åŒºï¼Œæ²¡æœ‰å˜é‡å£°æ˜æå‰ï¼Œä¸å…è®¸é‡å¤å®šä¹‰ å­˜å‚¨ä½ç½®var å®šä¹‰çš„å˜é‡å­˜å‚¨åœ¨ä½œç”¨ä¸­å…¨å±€å˜é‡ï¼ˆGlobalï¼‰ä¸­ï¼ˆä¹Ÿå°±æ˜¯windowï¼‰ã€‚ letå®šä¹‰çš„å˜é‡å­˜å‚¨åœ¨äºglobalåŒçº§çš„è¿™ä¸ªscriptçš„è¿™ä¸ªåŸŸä¸­ã€‚ IIFE ç«‹å³æ‰§è¡Œå‡½æ•°IIFE æ˜¯ä¸ºäº†è§£å†³ var æ²¡æœ‰å—çº§ä½œç”¨åŸŸçš„é—®é¢˜æå‡ºçš„åŠæ³•ï¼ŒIIFE çš„å‡½æ•°è¡¨è¾¾å¼ä¼šè¢«æ‹¬å· (function {...}) åŒ…è£¹èµ·æ¥ã€‚è¿™æ ·çš„ä¹¦å†™æ–¹å¼æ˜¯å› ä¸ºåœ¨ JS ä¸­å‡½æ•°å£°æ˜å¿…é¡»è¦æœ‰å‡½æ•°åï¼ŒåŒæ—¶ JS ä¸å…è®¸ç«‹å³è°ƒç”¨å‡½æ•°å£°æ˜ã€‚ å› æ­¤åˆ©ç”¨åœ†æ‹¬å·æŠŠå‘Šå‡½æ•°è¡¨è¾¾å¼åŒ…èµ·æ¥ï¼Œä»¥å‘Šè¯‰ JavaScriptï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åœ¨å¦ä¸€ä¸ªè¡¨è¾¾å¼çš„ä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ï¼Œå®ƒæ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ï¼šæ•…å®ƒä¸éœ€è¦å‡½æ•°åï¼Œå¯ä»¥ç«‹å³è°ƒç”¨ã€‚ ğŸŒ° å¤šç§ IIFE çš„ä¹¦å†™æ–¹å¼ï¼š 123456789101112131415(function() &#123; alert(\"Parentheses around the function\");&#125;)();(function() &#123; alert(\"Parentheses around the whole thing\");&#125;());!function() &#123; alert(\"Bitwise NOT operator starts the expression\");&#125;();+function() &#123; alert(\"Unary plus starts the expression\");&#125;();","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"http://yoursite.com/categories/%E5%89%8D%E7%AB%AF/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://yoursite.com/tags/JavaScript/"}]}]}